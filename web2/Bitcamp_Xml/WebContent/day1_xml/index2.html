<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- XML으로 데이터 뿌리기 -->
    <p id="demo">

    </p>
    
<script> 
var xmltext = "<bookstore>" +    // root tag 만들기 (=head), 2개
                "<book>" +      // node : <book> <title> <author> <year> ...
                    "<title>탈무드</title>" +  
                    "<author>man</author>" +
                    "<year>2001</year>" + 
                "</book>" +
                "<book>" + //반드시 위아래 xml태그의 종류와 개수가 똑같아야 함
                    "<title>이솝이야기</title>" +  
                    "<author>woman</author>" +
                    "<year>2004</year>" + 
                "</book>" +
            "</bookstore>";

var parser, xmlDoc; 

parser = new DOMParser();
xmlDoc = parser.parseFromString( xmltext, "text/xml" );  
// DOMParser() : parsing을 위한 객체 생성 (사용자지정함수 아님)
// xmlDoc = xml데이터로 파싱하여 문서로 담음
//xmltext : xml 데이터 담은 변수(위에서 작성)



// xml 데이터 가져와서 p태그에 출력하기
document.getElementById("demo").innerHTML
// = xmlDoc.getElementsByTagName("book")[0].childNodes[0].nodeName;    
    // nodeName = "title"이 출력
    // getElementsByTagName("태그이름")[인덱스].childNodes[인덱스].nodeName; => 해당 n번째 태그의 m번째 자식객체의 태그이름 출력
    // 결과 : TITLE
// = xmlDoc.getElementsByTagName("book")[0].childNodes[0].childNodes[0].nodeValue;
    // nodeValue : 태그 안에 데이터를 가져옴 
    // nodeNames에서 한단계 더 자식 태그로 들어가야 데이터 불러올 수 있다.
    // 결과 : 탈무드
= xmlDoc.getElementsByTagName("book")[0].childNodes.length;
    // length : node의 개수(길이)를 알 수 있음
    // 배열의 인덱스를 사용하지 않고 childNodes의 property로 사용해야 함

    



</script>
</body>
</html>